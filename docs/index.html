<!DOCTYPE HTML>
<html xml:lang="en" lang="en">

<head>
  <title>CSE512 | Final Project</title>

  <link rel="stylesheet" href="css/site.css">
  <link rel="stylesheet" href="css/vis.css">
</head>

<body>
  <div class="content">
    <section class="title">
      <a href="">Codemap</a>
      <a href="https://github.com/cse512-21s/FP-Codemap">
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true"
          focusable="false" width="0.75em" height="0.75em"
          style="-ms-transform: rotate(360deg); -webkit-transform: rotate(360deg); transform: rotate(360deg);"
          preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 250">
          <path
            d="M128.001 0C57.317 0 0 57.307 0 128.001c0 56.554 36.676 104.535 87.535 121.46c6.397 1.185 8.746-2.777 8.746-6.158c0-3.052-.12-13.135-.174-23.83c-35.61 7.742-43.124-15.103-43.124-15.103c-5.823-14.795-14.213-18.73-14.213-18.73c-11.613-7.944.876-7.78.876-7.78c12.853.902 19.621 13.19 19.621 13.19c11.417 19.568 29.945 13.911 37.249 10.64c1.149-8.272 4.466-13.92 8.127-17.116c-28.431-3.236-58.318-14.212-58.318-63.258c0-13.975 5-25.394 13.188-34.358c-1.329-3.224-5.71-16.242 1.24-33.874c0 0 10.749-3.44 35.21 13.121c10.21-2.836 21.16-4.258 32.038-4.307c10.878.049 21.837 1.47 32.066 4.307c24.431-16.56 35.165-13.12 35.165-13.12c6.967 17.63 2.584 30.65 1.255 33.873c8.207 8.964 13.173 20.383 13.173 34.358c0 49.163-29.944 59.988-58.447 63.157c4.591 3.972 8.682 11.762 8.682 23.704c0 17.126-.148 30.91-.148 35.126c0 3.407 2.304 7.398 8.792 6.14C219.37 232.5 256 184.537 256 128.002C256 57.307 198.691 0 128.001 0zm-80.06 182.34c-.282.636-1.283.827-2.194.39c-.929-.417-1.45-1.284-1.15-1.922c.276-.655 1.279-.838 2.205-.399c.93.418 1.46 1.293 1.139 1.931zm6.296 5.618c-.61.566-1.804.303-2.614-.591c-.837-.892-.994-2.086-.375-2.66c.63-.566 1.787-.301 2.626.591c.838.903 1 2.088.363 2.66zm4.32 7.188c-.785.545-2.067.034-2.86-1.104c-.784-1.138-.784-2.503.017-3.05c.795-.547 2.058-.055 2.861 1.075c.782 1.157.782 2.522-.019 3.08zm7.304 8.325c-.701.774-2.196.566-3.29-.49c-1.119-1.032-1.43-2.496-.726-3.27c.71-.776 2.213-.558 3.315.49c1.11 1.03 1.45 2.505.701 3.27zm9.442 2.81c-.31 1.003-1.75 1.459-3.199 1.033c-1.448-.439-2.395-1.613-2.103-2.626c.301-1.01 1.747-1.484 3.207-1.028c1.446.436 2.396 1.602 2.095 2.622zm10.744 1.193c.036 1.055-1.193 1.93-2.715 1.95c-1.53.034-2.769-.82-2.786-1.86c0-1.065 1.202-1.932 2.733-1.958c1.522-.03 2.768.818 2.768 1.868zm10.555-.405c.182 1.03-.875 2.088-2.387 2.37c-1.485.271-2.861-.365-3.05-1.386c-.184-1.056.893-2.114 2.376-2.387c1.514-.263 2.868.356 3.061 1.403z"
            fill="#161614" />
          <rect x="0" y="0" width="256" height="250" fill="rgba(0, 0, 0, 0)" />
        </svg>
      </a>
    </section>

    <section>
      <p>
        <strong>Team Members</strong>: Thomas Schweizer
      </p>
      <p>
        <a href="https://www.youtube.com/watch?v=sHH-MWpzAW0">Video presentation</a>
      </p>
    </section>

    <section>
      <h2>Final Project</h2>
      <p>
        As part of an on-going <a href="https://www.notion.so/Codemap-ec02c79cb0b44304ba10767af1ca3788">research
          project</a>, we explore local interactive software visualizations aimed to help developers explore and locate
        information about methods and classes necessary to fix bugs and develop new features. We present our findings
        and results with a short project report and two visualizations.
      </p>

      <p>
        In this project, we explore multiple design concepts as well as related work in software visualization.
      </p>

      <p>
        Previously, we conducted a user study to evaluate if an integrated interactive visualization to an IDE was
        useful to developers to navigate source code, and find related classes and methods. For this we developed a <a
          href="https://github.com/amyjzhu/503-hacking/">rough prototype</a> to support the experiment. The
        visualization used a zooming technique, similar in essence to Google Maps, to move between different levels of
        abstraction.
      </p>

      <p>
        We found that the visualization was generally helpful to the participants. Specifically, the following features
        were promising:

      <ul>
        <li>The visualization is initially centered on the class the user is editing</li>
        <li>Moving seamlessly between levels of abstraction visually (similarly to Google Maps)</li>
        <li>Switching between the source code of a class and its visualization with a click</li>
        <li>Exploring dependencies interactively (by clicking on the edge connecting the methods or classes)</li>
      </ul>
      </p>

      <p>
        We also found that the representation of each level of abstraction was lacking. Participants complained that
        packages, classes, and method were too far apart or too close together, creating occlusion problems in the
        latter case. These issues stem from the force layout we used. We also ran into performance and complexity issues
        with larger code bases that we mitigated with interactive filters and just-in-time rendering.
      </p>

      <p>
        Thus, with this final project, we aim to explore individual visualization to represent different levels of
        abstraction in source code capable of addressing these issues. The visualizations will be focused on working
        from a local perspective (i.e., showing dependencies from a given method rather than showing the entire
        dependency graph) and interactivity based on existing visualization techniques (e.g., Voronoi, Hyperbolic
        Layout, Hierarchical Edge Bundling, Radial Tree).
      </p>

      <p>
        This project will not implement the mechanisms to blend the visualization of the levels of abstraction, this
        will be for another time. Additionally, this project will not focus on the integration between the visualization
        and the IDE because the basic mechanisms were implemented in the previous prototype. Moreover, in the visualization concepts below, we implicitly assume that the visualizations are implemented in the context of a development environment that would update the data model with the most up-to-date information. Crucially, we also implicitly keep the interaction feature of control click introduced in the legacy prototype that enables the user to switch between an element in the visualization to its source code equivalent.
      </p>

      <p>
        Below, we present an global overview of Codemap using Munzner's nested model [<a href="#ref-munzner">4</a>]. The
        closest working implementation is currently the Codemap prototype used to do the initial user study [<a
          href="#ref-codemap">9</a>]. The goal of the model is to put the accent on the zooming mechanism and general
        philosophy tying in the visualization experience to the integrated environment in a developer-centered
        experience.
      </p>

      <details>
        <summary>Nested Model for legacy prototype</summary>
        <div class="nested-model">
          <div class="domain">
            <p><strong>Domain Problem and Data Characterization</strong></p>
            <p>
              We are interested to help the developer build a mental image of the source code. Mental image of the
              source code is necessary before fixing a bug or implementing a new feature to locate artifacts or
              interest.
            </p>
            <p>
              Conducted a user study on a rough visualization prototype integrated to Visual Studio Code as a plugin to
              gather initial feedback. Participants noted that integration was really important and made heavy use of
              click through to go from one method to another. Also found the zooming feature useful to answer questions.
            </p>

            <div class="abstraction">
              <p><strong>Operation and Data Type Abstraction</strong></p>
              <p>Network graph. Edges are links between artifacts. Nodes are methods.</p>

              <div class="technique">
                <p><strong>Visual Encoding and Interaction Design</strong></p>
                <p>Methods are encoded as network nodes. Their size is based on the method's LOC or complexity, the
                  color encodes the return type.</p>

                <p>Methods are attracted by their enclosing class and dependencies.</p>

                <p>The dependencies are encoded as the edges.</p>
                <p>
                  <strong>Interactions:</strong>
                <ul style="list-style: none">
                  <li>Hide / Show artifact</li>
                  <li>Pin / Unpin artifact</li>
                  <li>Navigate: click on links, zoom, pan</li>
                  <li>Drill down / Up artifact: class > method > logic?</li>
                </ul>
                </p>

                <div class="algorithm">
                  <p><strong>Algorithm Design</strong></p>
                  <p>Voronoi, Hyperbolic Layout?, Hierarchical Edge Bundling, Radial Layout</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </details>

      <h2>Related work</h2>
      <p>A very similar approach is Sourcetrail [<a href="#ref-sourcetrail">7</a>]</p>

      <p>Elmqvist et al. present ... [<a href="#ref-elmqvist-hierarchical">8</a>].</p>

      <h2>Challenges</h2>
      <p>Scalability</p>
      <p>Comnplexity</p>
      <p>Performance</p>

      <h2>Visualization</h2>
      <h3>Methods</h3>
      <p>
        In this prototype, we explore how dependencies between methods can be visualized from an initial method using
        radial tree and hierarchical edge bundling.
      </p>

      <div id='method-level' class="visualization"></div>

      <h3>Level: macro</h3>
      <p>
        In this prototype, we explore how the class and package hierarchy can be visualized from an initial perspective
        using Voronoi diagrams. For example using <a
          href="https://github.com/Kcnarf/d3-voronoi-treemap">d3-voronoi-treemap</a>.
      </p>

      <details>
        <summary>Nested Model</summary>
        <div class="nested-model">
          <div class="domain">
            <p><strong>Domain Problem and Data Characterization</strong></p>
            <p>
              We are interested to help the developer build a mental image of the source code. Mental image of the
              source code is necessary before fixing a bug or implementing a new feature to locate artifacts or
              interest.
            </p>
            <p>
              Conducted a user study on a rough visualization prototype integrated to Visual Studio Code as a plugin to
              gather initial feedback. Participants noted that integration was really important and used the zooming
              mechanism to move from low abstraction to high abstraction.
            </p>

            <div class="abstraction">
              <p><strong>Operation and Data Type Abstraction</strong></p>
              <p>Transform the class and package hierarchy into a list of parent and children relations. The hierarchy
                is illustrated with Voronoi treemaps [<a href="#ref-balzer-voronoi-treemap">2</a>];</p>

              <div class="technique">
                <p><strong>Visual Encoding and Interaction Design</strong></p>

                <p>
                  Simple Radial tree with local node centered. Pan and Zoom
                  Interactivity features.
                </p>

                <p>The Voronoi treemap is monochromatic. The cells represent classes and the edges represent class and
                  packages boundaries.</p>

                <p>The current class is encoded with an <span style="background-color:aquamarine">accent color</span>
                  for pre-attentive detection.</p>

                <p>To anchor the representation physically to the viewer, we encode the cell's size with the size of the
                  class. Here, we use the source lines of code (SLOC) metric to represent the size [<a
                    href="#ref-loc">5</a>]. That way, each cell is characterized by its content visually.</p>

                <p>Hovering displays information regarding the class</p>

                <p>Search bar to find a class quickly.</p>

                <p>Control clicking a class, centers the visualization on it</p>

                <p>Inter class or package relations (e.g., dependencies) can be toggled on and off with an extradiegetic
                  interface.</p>

                <div class="algorithm">
                  <p><strong>Algorithm Design</strong></p>
                  <p>
                    Voronoi treemaps [<a href="#ref-d3-voronoi-treemap">1</a>, <a
                      href="#ref-balzer-voronoi-treemap">2</a>]
                  </p>

                  <p>
                    The diagram is seeded so the map doesn't change every time its regenerated even though the content
                    of the data doesn't change. The seed is assigned to the data so every time the data changes, a new
                    map is generated, marking a new version of the data. In a live development setting, we would need a
                    less naive approach. For example, growing the map as changes are made, minimizing displacement of
                    the cells similarly how Gource [<a href="#ref-gource">10</a>], a popular version control
                    visualization, does it.
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </details>

      <div id='vis-macro' class="visualization"></div>
      <div id='vis-macro-legend' class="legend"></div>

      <h2>Conclusion</h2>
      <p>
        With this final course project, I was able to advance my research and apply concepts learned in class.
        Specifically, I refined the scope of the research project, explored related work on software visualization, and
        compared ways to visualize network graph adapted to displaying relation between software artifacts, designed and
        prototyped two visualization to respectively represent the class hierarchy and represent dependencies between
        methods.

        The next steps are two-fold. First, finish implementing the visualization prototypes with all the features
        mentioned in their model design and evaluate them in a small user study. Second, merge the concepts from the
        visualizations into one unified visualization where the level of abstraction is controlled by zooming, building
        on the technique the initial prototype we already evaluated.

        In summary, on top of putting in practice what I learned in the course and solidifying my budding D3 skills,
        this final project enabled me to make significant headway into this research project in terms of background,
        direction, motivation, and working prototypes.
      </p>

      <section>
        <h2>References</h2>
        <!-- Vancouver Reference Style -->

        <ol>
          <li id="ref-d3-voronoi-treemap">
            <p>Kcnarf. "D3 Voronoi Treemap." <a
                href="https://github.com/Kcnarf/d3-voronoi-treemap">https://github.com/Kcnarf/d3-voronoi-treemap</a>.
              Last accessed 2021-06-06</p>
          </li>
          <li id="ref-balzer-voronoi-treemap">
            <p>Balzer M, Deussen O. Voronoi treemaps. InIEEE Symposium on Information Visualization, 2005. </p>
          </li>
          <li>
            <p>Balzer M, Deussen O, Lewerentz C. Voronoi treemaps for the visualization of software metrics.
              InProceedings of the 2005 ACM symposium on Software visualization 2005</p>
          </li>
          <li id="ref-munzner">
            <p>Munzner T. A nested model for visualization design and validation. IEEE transactions on visualization and
              computer graphics. 2009</p>
          </li>
          <li id="ref-loc">
            <p>Alpernas K, Feldman YM, Peleg H. The wonderful wizard of LoC: paying attention to the man behind the
              curtain of lines-of-code metrics. InProceedings of the 2020 ACM SIGPLAN International Symposium on New
              Ideas, New Paradigms, and Reflections on Programming and Software 2020</p>
          </li>
          <li>
            <p>https://github.com/AlDanial/cloc</p>
          </li>
          <li id="ref-sourcetrail">
            <p>CoatiSoftware. "Sourcetrail." <a href="https://www.sourcetrail.com/">https://www.sourcetrail.com/</a>.
              Last accessed 2021-06-06.</p>
          </li>

          <li id="ref-elmqvist-hierarchical">
            <p>Elmqvist N, Fekete JD. Hierarchical aggregation for information visualization: Overview, techniques, and
              design guidelines. IEEE Transactions on Visualization and Computer Graphics. 2009</p>
          </li>

          <li id="ref-codemap">
            <p>Zhu A, Seo, A, Verma S, Schweizer T. Codemap, <a
                href="https://github.com/amyjzhu/503-hacking/">https://github.com/amyjzhu/503-hacking/</a>. Last
              accessed 2021-06-06.</p>
          </li>

          <li id="ref-gource">
            <p>Caudwell A. Gource, <a href="https://gource.io/">https://gource.io/</a>. Last accessed 2021-06-06.</p>
          </li>
        </ol>

      </section>

      <div class="footer">
        <a href="https://courses.cs.washington.edu/courses/cse512/21sp/">CSE 512 Data Visualization</a>
        <a href="http://www.washington.edu">University of Washington</a>
      </div>

      <script src="https://d3js.org/d3.v6.min.js"></script>
      <script src="https://rawcdn.githack.com/Kcnarf/d3-weighted-voronoi/v1.1.0/build/d3-weighted-voronoi.js"></script>
      <script src="https://rawcdn.githack.com/Kcnarf/d3-voronoi-map/v2.1.0/build/d3-voronoi-map.js"></script>
      <script src="https://rawcdn.githack.com/Kcnarf/d3-voronoi-treemap/v1.1.1/build/d3-voronoi-treemap.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/seedrandom/2.4.3/seedrandom.min.js"></script>
      <script src="./js/index.js"></script>
      <script src="./js/data.js"></script>
      <script src="./js/visualization.js"></script>
  </div>
</body>

</html>